## 二、用分治法（conquer-divide）来逆向思维 

问题：将 N 个数字进行加减乘除得到 24。

步骤：

1、将两个数 $a,b$ 通过给定的运算符号合并为一个新的数，建立一个新函数。  
`def two(a, b)`, 共存在 **相加、相乘、除以、减去、被除、被减** 六种可能。
~~~python
def two(a, b):
    res=set()
    ops = ['+','-','*','/'] 
    for op in ops:
        res.add('{0} {1} {2}'.format(a, op, b))

    res.add('{0} {1} {2}'.format(b, '-', a))
    res.add('{0} {1} {2}'.format(b, '/', a))    
    
    return res
~~~

2、将 N-1 个数字加减乘除得到 24。

当 N=2，可以直接判断。

那么，这样解决这个问题的总的执行次数就是：
$\binom{4}{2}\times 6\times\binom{3}{2}\times 6\times \binom{2}{2}\times 6=3888$
对计算机而言，这个数字相当小。但这段算法可以解决 N 个数算 24 点的问题，更具有通用性。

算法如下：解决24点算法之——分治法。

**Get24（长度为N数组）**  
{
If（N==2）就反复套加减乘除，判断是否可以为24点，若可，则输出。  

If（N!=2）就从中选出两个数字，合并为为一个新的数字，并倒入一个新的数组，N-1 数组，并对之调用Get24(长度为N-1的数组)；[4个数中取2个，有6种，配对就是3对。譬如(a,b,c,d)-->(ab,cd),(ac,bd),(ad,bc))]
 }

<!-- 
————————————————
版权声明：本文为CSDN博主「蒸发杰作」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_40938169/article/details/82453743 -->


## 24点算法之——基数扩充法。

说明：在四个数字中挑选一个数，将之当成基数，不断对其加减乘除其他数来修改他，直到将之修改为24点。

所以，以循环图的方式表示此过程，如下图。

For（在四个数字中挑一个数字A）

For（挑选计算符号Z1）

   For（在剩下的三个数字中再挑一个数字B）计算result1=JiSuan（A,Z1,B）；

     For（挑选一个计算符号Z2）

  For（在剩下的两个数字中再挑一个数字C）计算result2=JiSuan（result1,Z2,C）；

   For（挑选一个计算符号Z3）

    For（选出最后的数字D）{计算result3=JiSuan（result1,Z2,C）；if（result3==24）输出；}

基数扩充法虽然好，但无法包含所有可能。还存在一种可能。例如1 2 3 5，那么解决这个问题的最好方式就是（1+2）*（3+5）。显然的，这儿要进行两个基数扩充。所以，方法与上边一样。（请读者自己思考，并像上边那样写出流程图）

这个算法解决该问题需要计算：  
$A_4^4\times 4\times 4\times 4\times 2=3072$次。

这个数字可以说是相当的小，计算机完全可以在1ms内完成这个操作。

<!-- ————————————————
版权声明：本文为CSDN博主「蒸发杰作」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_40938169/article/details/82453743 -->

